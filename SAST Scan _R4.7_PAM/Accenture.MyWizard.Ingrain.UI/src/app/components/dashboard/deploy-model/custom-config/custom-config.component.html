<div class="modal-dialog-scrollable">

    <div class="modal-content">

        <div class="modal-header">
            <h5 class="modal-title" id="ingrAI-enter-model-title">{{title}}</h5>
            <button type="button" class="close" aria-label="Close" (click)='closePopUp()'></button>
        </div>

        <div class="modal-body">
            <div class="col-sm-12" style="padding: 0px;">
                <div class="card" style="border: none;">
                    <div class="card-body alert" style="font-size: 11px;color: #856404;border-color: #ffeeba;">
                        Please select and validate the constraint as per the business requirement. Data aggregation used during
                        model creation should be consistent throughout.<strong>Eg: </strong> If business requirement is to create a use case at
                        Iteration level, then constraint also should be based on Iteration & not story or any other entity.
                    </div>
                </div>
            </div>
            
            <div class="d-flex flex-column justify-content-center">

                <div class="row" style="padding-bottom: 2%;">
                    <label class="col-3 custom-label">Data Source</label><input class="col-5" type="text"
                        [(ngModel)]="dataSource" maxlength="70" disabled>
                </div>

                <div class="row" style="padding-bottom: 5%;align-items: center;">
                    <label class="col-3 custom-label">Constraints</label>

                    <mat-form-field class="col-5" style="padding: 0px;">
                    <mat-select [formControl]="dropdownOptions" (selectionChange)="selectionChanged($event)" panelClass="publish-timedd" multiple class="col-sm-12"
                         [placeholder]="'Select Condition'"
                        [disabled]="disableDropdown">
                        <mat-select-trigger
                            *ngIf="dropdownOptions && dropdownOptions?.value && dropdownOptions.value?.length > 0">
                            <div class=""
                                *ngIf="dropdownOptions && dropdownOptions?.value && dropdownOptions.value?.length > 0 ">
                                <div class="ingrAIn-feature-filter-item"
                                    *ngFor="let selected of dropdownOptions.value  | slice: 0 : defaultDisplayCount ; let i = index">
                                    <label class="mb-0" [popover]='selected.ConstraintName' triggers="mouseenter:mouseleave"
                                        style="max-width: 4em;overflow: hidden;text-overflow: ellipsis;">
                                        <span
                                            style="max-width: 4em;overflow: hidden;text-overflow: ellipsis;">{{selected.ConstraintName}}
                                        </span>
                                    </label>
                                    <span class="item-close" (click)="unselectOption(selected,i, $event)">x</span>

                                </div>
                                <div class="ingrAIn-feature-filter-item"
                                    *ngFor="let selected of dropdownOptions.value  | slice: defaultDisplayCount : 4 ; let lastOperation = last; let i = index">
                                    <span>({{dropdownOptions.value?.length - defaultDisplayCount}}+ ) </span>
                                </div>
                            </div>
                        </mat-select-trigger>

                        <mat-option [id]="optionName.ConstraintName" *ngFor="let optionName of constraintsList let i = index"
                            [value]="optionName" [matTooltip]="optionName.ConstraintName" [matTooltipPosition]="'above'">{{optionName.ConstraintName}}
                        </mat-option>

                    </mat-select>
                    <div *ngIf="isSaveDisabled" style="color: red;"><span>No Constraints Available!.</span></div>
                </mat-form-field>

                </div>

            </div>

            <div class="modal-footer" style="border-top: none;">
                <button type="button" class="btn btn-primary" (click)='apply()' [disabled]="isSaveDisabled">Apply</button>
            </div>

        </div>

    </div>

</div>
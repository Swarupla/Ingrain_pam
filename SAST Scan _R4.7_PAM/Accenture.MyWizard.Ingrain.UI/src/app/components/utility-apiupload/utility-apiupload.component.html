
  <!-- <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
      <div class="modal-content" style="width: 765px;">
          <div class="modal-header">
              <h5 class="modal-title" id="apicreateModalTitle">API Create</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)='onClose()'>
                <span aria-hidden="true">&nbsp;</span>
            </button>
          </div>
          <div class="modal-body myw-scrollbar">
            <div class="row">
                  <div class="col-6">
                      <div class="form-group">
                          <label class="form-label">Dataset name</label>
                          <input type="text" #datasetNameInput=ngModel class="form-control" name='datasetName'
                          required [(ngModel)]='datasetName'>
                      </div>
                  </div>
                  <div class="col-6">
                      <div class="form-group">
                          <label class="form-label">HTTP Method</label>
                        <select class="form-control" 
                        (change)="selectedMethod($event)">

                              <option *ngFor="let type of methodtype" [value] = "type.name">
                              {{type.name}}
                            </option>
                         </select> 

                      </div>
                  </div>
                  <div class="col-6">
                      <div class="form-group">
                          <label class="form-label">API URL</label>
                          <input type="text" #apiurlNameInput=ngModel class="form-control" name='apiurl'
                          required (keyup)="onKey(apiurlNameInput.value)" [(ngModel)]='apiurl'>
                        <div *ngIf="errorvalid">
                            <label style="color: red;font-size:smaller">
                             Enter valid application url (start with http:// or https:// and url contain at least one dot(.))
                           </label>
                          </div> 
                        
                          
                      </div>
                  </div>
                  <div class="col-6">
                      <div class="form-group">
                          <label class="form-label">Category</label>     
                          <div>                    
                            <label class="myw-switch ingr-switch">
                              <input #switch
                                (click)="onSwitchChanged(switch)" type="checkbox" name="onoffswitch" id="myonoffswitch"
                                [checked]="isPublic == true">
                              <span class="label-first">Public</span>
                              <span class="switch-toggle"></span>
                              <span class="label-last">Private</span>
                            </label>       
                          </div>                 
                      </div>
                  </div>
            
                    <div class="form-group">
                      <label><b>Headers</b></label> 
                      <table class="table table-striped table-hover table-vmiddle myw-table">
                       <tr>
                            <th class="text-center" scope="col">KEY</th>
                            <th class="text-center" scope="col">VALUE</th>
                            <th class="text-center" scope="col">Add</th>
                            <th class="text-center" scope="col">Delete</th>
                      </tr>    
                      <tr *ngFor="let dynamic of dynamicArray; let i = index;">
                        <td>
                         <input type="text" #headerkeyInput=ngModel class="form-control" name='headerkey'
                         required [(ngModel)]='dynamicArray[i].key'></td>
                         <td>
                         <input type="text" #headervalueInput=ngModel class="form-control" name='headervalue'
                         required [(ngModel)]='dynamicArray[i].value'></td>                         
                        <td>    
                          <a href="javascript:;" (click)="addRow(i)">
                            <img src="assets/images/add.svg" alt="Add operation" /></a>
                        </td>   
                        <td>    
                          <a href="javascript:;">
                            <img src="assets/images/delete.svg" alt="Delete" (click)="deleteRow(i)"
                              class="myw-icon myw-20" /></a>  
                        </td>                      
                     </tr>                
                    
                      </table>
                    </div>
              
                <div class="col-6">
                  <div class="form-group">
                      <label class="form-label">Body Parameters</label>     
                      <textarea class="form-control" maxlength="500" [(ngModel)]="bodyparameter"
                       style="height: 2.5rem;"></textarea>
                  </div>
              </div>


              <div class="col-6">
                <div class="form-group">
                  <label class="checkcontainer">
                    <input #selectedincrementalData (click)="onCheckedIncrementalData(selectedincrementalData)"
                      type="checkbox" />
                    <span class="checkmark"></span>&nbsp;&nbsp;
                    <span>Incremental Data</span>    
                  </label>

                  <div *ngIf = "isIncremental">
                    <form [formGroup]="apiRow" (ngSubmit)="onSubmit()">               
                      <div>
                        <div class="row mb-4">
                          <div class="col-6">
                            <div class="form-group">
                              <mat-form-field class="w-100">
                                <mat-label>Start Date</mat-label>
                                <input matInput formControlName="startDateControl" [matDatepicker]="picker1"
                                  placeholder="DD MM YYYY" [max]="startDate">
                                <mat-datepicker-toggle matSuffix [for]="picker1">
                                  <img src="assets/images/calendar.svg" alt="Calendar">
                                </mat-datepicker-toggle>
                                <mat-datepicker #picker1></mat-datepicker>
                                <mat-error *ngIf="apiRow.get('startDateControl').invalid">Start Date
                                </mat-error>
                              </mat-form-field>
                            </div>
                          </div>
                          <div class="col-6">
                            <div class="form-group">
                              <mat-form-field class="w-100">
                                <mat-label>End Date</mat-label>
                                <input formControlName="endDateControl" matInput [matDatepicker]="picker2"
                                  placeholder="DD MM YYYY" [min]="startDate" [max]="startDate">
                                <mat-datepicker-toggle matSuffix [for]="picker2">
                                  <img src="assets/images/calendar.svg" alt="Calendar">
                                </mat-datepicker-toggle>
                                <mat-datepicker #picker2></mat-datepicker>
                                <mat-error *ngIf="apiRow.get('endDateControl').invalid">End Date
                                </mat-error>
                              </mat-form-field>
                            </div>
                          </div>
                      
      
                        </div>
                      </div>
                    </form> 
                  </div>
                  
                   
                </div>
            </div>

              <div class="col-6">
                <div class="form-group">
                  <div class="form-group">
                    <div class="form-inline">
                     <div *ngIf = "isAuthenticationtoken === true"><label  class="myw-checkbox mb-0"><input type="radio" id="cds_radio1" name="modal-rd" (click) = "showtokentext()" checked><span>Authentication Token</span></label></div>
                    <ng-container *ngIf = "isAuthenticationtoken === true">
                     <div><label class="myw-checkbox mb-0"><input type="radio" id="cds_radio2" name="modal-rd" (click) = "showcredentialdetail()"><span>Credentials</span></label></div>
                    </ng-container>
                    <ng-container *ngIf = "isAuthenticationtoken === false">
                      <div><label class="myw-checkbox mb-0"><input type="radio" id="cds_radio2" name="modal-rd" (click) = "showcredentialdetail()" checked><span>Credentials</span></label></div>
                     </ng-container>
                    </div>                  
                  </div>        
                </div>
            </div>

            <div class="col-6" *ngIf = "tokentext === true">
              <div class="form-group">
                   <textarea class="form-control" maxlength="500" [(ngModel)]="authenticationtoken"
                   style="height: 2.5rem;"></textarea>
              </div>
          </div>


          <div class="col-6" *ngIf = "credentialdetail === true">
            <div class="form-group">
               TokenURL : <input type="text" #tokenurlInput=ngModel class="form-control" name='tokenurl'
              required (keyup)="onKeyazureURL(tokenurlInput.value)" [(ngModel)]='tokenurl'>
              <div *ngIf="tokenerrorvalid">
                <label style="color: red;font-size:smaller">
                 Enter valid application url (start with http:// or https:// and url contain at least one dot(.))
               </label>
              </div> 
               Grant Type : <input type="text" #granttypeInput=ngModel class="form-control" name='granttype'
               required [(ngModel)]='granttype'>
               Client Id : <input type="text" #clientidInput=ngModel class="form-control" name='clientid'
               required [(ngModel)]='clientid'>
               Client Secret : <input type="text" #clientsecretInput=ngModel class="form-control" name='clientsecret'
               required [(ngModel)]='clientsecret'>
               Resource : <input type="text" #resourceInput=ngModel class="form-control" name='resource'
               required [(ngModel)]='resource'>
            </div>
        </div>


              </div>
              <div class="d-flex justify-content-end myw-actions mt-4">
                  <button class="btn btn-primary" data-dismiss="modal" (click)="onSubmit()">Save</button>
              </div>
          </div>
      </div>
  </div>  -->

   <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="apicreateModalTitle">API Create</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)='onClose()'>
                  <span aria-hidden="true">&nbsp;</span>
              </button>
            </div>
            <div class="modal-body myw-scrollbar">
                <div class="row">
                    <div class="col-6">
                        <div class="form-group">
                            <label class="form-label myw-required">Dataset name</label>
                            <input type="text" #datasetNameInput=ngModel class="form-control" name='datasetName'
                          required [(ngModel)]='datasetName' maxlength="70" placeholder="Type here">
                          <small class="form-text text-muted">You have {{70 - datasetName?.length}} of 70 characters
                            remaining.</small>
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="form-group">
                            <label class="form-label myw-required">HTTP Method</label>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                            <app-info-tooltip class="ml-auto" [className]="'toggleRight'" [description]="'samplepayload'"></app-info-tooltip>
                            <div>POST</div>
                        </div>        
                    </div>
                    <div class="col-6">
                        <div class="form-group">
                            <label class="form-label myw-required">API URL</label>
                            <input type="text" #apiurlNameInput=ngModel class="form-control" name='apiurl'
                             required (keyup)="onKey(apiurlNameInput.value)" maxlength="500" [(ngModel)]='apiurl' placeholder="Type here">
                             <small class="form-text text-muted">You have {{500 - apiurl?.length}} of 500 characters
                              remaining.</small>
                             <div *ngIf="errorvalid">
                              <label style="color: red;font-size:smaller">
                               Enter valid application url (start with http:// or https:// and url contain at least one dot(.))
                             </label>
                            </div> 
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="form-group">
                            <label class="form-label">Category</label>
                            <div class="form-inline">
                              <div class="form-inline">
                                <label class="myw-checkbox"><input type="radio" (click)="getpublicflag()" name="radio-api"><span>Public</span></label>
                                <label class="myw-checkbox"><input type="radio" (click)="getprivateflag()" name="radio-api" checked><span>Private</span></label>
                            </div>
                            <!-- <label class="myw-switch ingr-switch">
                              <input #switch
                                (click)="onSwitchChanged(switch)" type="checkbox" name="onoffswitch" id="myonoffswitch"
                                [checked]="isPublic == true">
                              <span class="label-first">Public</span>
                              <span class="switch-toggle"></span>
                              <span class="label-last">Private</span>
                            </label>  -->
                          </div>   
                        </div>
                    </div>
                </div>
                <div class="d-flex">
                    <div class="myw-api-bg mb-4">
                        <div class="table-responsive mb-0">
                            <table class="table table-striped table-hover table-vmiddle myw-table">
                                <thead>
                                    <tr>
                                        <th scope="col">Key</th>
                                        <th scope="col">Value</th>
                                        <th>&nbsp;</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <!-- <tr>
                                        <td>ClientUId</td>
                                        <td>04400000000000000000000000</td>
                                        <td>&nbsp;</td>
                                    </tr> -->
                                    <tr *ngFor="let dynamic of dynamicArray; let i = index;">
                                        <td><input type="text" #headerkeyInput=ngModel class="form-control" maxlength="70" name='headerkey'
                                          required [(ngModel)]='dynamicArray[i].key' placeholder="Type here"><br/>
                                          <small class="form-text text-muted">You have {{70 - dynamicArray[i].key?.length}} of 70 characters
                                            remaining.</small></td>
                                        <td><input type="text" #headervalueInput=ngModel class="form-control" maxlength="70" name='headervalue'
                                          required [(ngModel)]='dynamicArray[i].value' placeholder="Type here"><br/>
                                          <small class="form-text text-muted">You have {{70 - dynamicArray[i].value?.length}} of 70 characters
                                            remaining.</small>
                                        </td>
                                        <td><a style="cursor: pointer;">
                                          <img src="assets/images/delete.svg" alt="Delete" (click)="deleteRow(i)"
                                            class="myw-icon myw-20" /></a></td>
                                            <td>
                                              <a style="cursor: pointer;" (click)="addRow(i)">
                                                <img src="assets/images/add.svg" alt="Add operation" /></a>
                                            </td>
                                    </tr>
                                </tbody>
                            </table>   
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label myw-required">Body Parameters</label>
                    <textarea class="form-control" [(ngModel)]="bodyparameter"
                    style="height: 2.5rem;" maxlength="5000" placeholder="Type here"></textarea>
                    <small class="form-text text-muted">You have {{5000 - bodyparameter?.length}} of 5000 characters
                      remaining.</small>
                </div>
                <div class="form-group">  
                 
                      <input #selectedincrementalData (click)="onCheckedIncrementalData(selectedincrementalData)"
                        type="checkbox" />
                      <span class="checkmark"></span>&nbsp;&nbsp;
                      <span>Incremental Data</span>    
                  
                </div>
                <div class="row">
                  <div class="col-6">
                  <div *ngIf = "isIncremental">
                    <form [formGroup]="apiRow" (ngSubmit)="onSubmit()">               
                      <div>
                        <div class="row mb-4">
                          <div class="col-6">
                            <div class="form-group">
                              <mat-form-field class="w-100">
                                <mat-label class="form-group myw-required">Start Date</mat-label>
                                <input matInput formControlName="startDateControl" [matDatepicker]="picker1"
                                  placeholder="DD MM YYYY" [max]="startDate">
                                <mat-datepicker-toggle matSuffix [for]="picker1">
                                  <img src="assets/images/calendar.svg" alt="Calendar">
                                </mat-datepicker-toggle>
                                <mat-datepicker #picker1></mat-datepicker>
                                <mat-error *ngIf="apiRow.get('startDateControl').invalid">Start Date
                                </mat-error>
                              </mat-form-field>
                            </div>
                          </div>
                          <div class="col-6">
                            <div class="form-group">
                              <mat-form-field class="w-100">
                                <mat-label class="form-group myw-required">End Date</mat-label>
                                <input formControlName="endDateControl" matInput [matDatepicker]="picker2"
                                  placeholder="DD MM YYYY" [min]="startDate" [max]="startDate">
                                <mat-datepicker-toggle matSuffix [for]="picker2">
                                  <img src="assets/images/calendar.svg" alt="Calendar">
                                </mat-datepicker-toggle>
                                <mat-datepicker #picker2></mat-datepicker>
                                <mat-error *ngIf="apiRow.get('endDateControl').invalid">End Date
                                </mat-error>
                              </mat-form-field>
                            </div>
                          </div>
                      
      
                        </div>
                      </div>
                    </form> 
                  </div>
                </div>
                </div>

                <div class="form-group">
                    <label class="form-label">Authentication Method</label>
                    <div class="form-inline">
                      <div *ngIf = "isAuthenticationtoken === true"><label class="myw-checkbox"><input type="radio" name="radio-auth" (click) = "showtokentext()" value="1" checked><span>Token</span></label></div>
                      &nbsp;&nbsp;
                      <div>
                      <ng-container *ngIf = "isAuthenticationtoken === true"> 
                      <label class="myw-checkbox"><input type="radio" name="radio-auth" (click) = "showcredentialdetail()" value="2"><span>Credentials</span></label>
                    </ng-container>
                    <ng-container *ngIf = "isAuthenticationtoken === false"> 
                      <label class="myw-checkbox"><input type="radio" name="radio-auth" (click) = "showcredentialdetail()" value="2" checked><span>Credentials</span></label>
                    </ng-container>
                  </div>
                    </div>
                </div>
                <div class="myw-token" *ngIf = "tokentext === true">
                    <div class="form-group">
                        <label class="form-label myw-required">Token</label>
                        <textarea class="form-control" [(ngModel)]="authenticationtoken"
                            style="height: 2.5rem;" maxlength="2000" placeholder="Type here"></textarea>
                            <small class="form-text text-muted">You have {{2000 - authenticationtoken?.length}} of 2000 characters
                              remaining.</small>
                    </div>
                </div>
                <div *ngIf = "credentialdetail === true">
                    <div class="row">
                      <div class="col-6">
                        <div class="form-group">
                            <label class="form-label myw-required">TokenURL</label>
                            <input type="text" #tokenurlInput=ngModel class="form-control" name='tokenurl'
                            required (keyup)="onKeyazureURL(tokenurlInput.value)" maxlength="500" [(ngModel)]='tokenurl' placeholder="Type here">
                            <small class="form-text text-muted">You have {{500 - tokenurl?.length}} of 500 characters
                              remaining.</small>
                            <div *ngIf="tokenerrorvalid">
                              <label style="color: red;font-size:smaller">
                              Enter valid application url (start with http:// or https:// and url contain at least one dot(.))
                            </label>
                            </div> 
                        </div>
                     </div>
                        <div class="col-6">
                            <div class="form-group">
                                <label class="form-label myw-required">Grant Type</label>
                                <input type="text" #granttypeInput=ngModel class="form-control" name='granttype'
                                 required [(ngModel)]='granttype' maxlength="70" placeholder="Type here">
                                 <small class="form-text text-muted">You have {{70 - granttype?.length}} of 70 characters
                                  remaining.</small>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="form-group">
                                <label class="form-label myw-required">Client ID</label>
                                <input type="text" #clientidInput=ngModel class="form-control" name='clientid'
                                required [(ngModel)]='clientid' maxlength="70" placeholder="Type here">
                                <small class="form-text text-muted">You have {{70 - clientid?.length}} of 70 characters
                                  remaining.</small>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="form-group">
                                <label class="form-label myw-required">Client Secret</label>
                                <input type="text" #clientsecretInput=ngModel class="form-control" name='clientsecret'
                                required [(ngModel)]='clientsecret' maxlength="70" placeholder="Type here">
                                <small class="form-text text-muted">You have {{70 - clientsecret?.length}} of 70 characters
                                  remaining.</small>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="form-group">
                                <label class="form-label myw-required">Resource</label>
                                <input type="text" #resourceInput=ngModel class="form-control" name='resource'
                                required [(ngModel)]='resource' maxlength="70" placeholder="Type here">
                                <small class="form-text text-muted">You have {{70 - resource?.length}} of 70 characters
                                  remaining.</small>
                            </div>
                        </div>
                    </div>
                </div>
                <div style="margin-right: 10em;font-size: 0.85rem;font-weight: 500;border-left: 5px solid #004dff;padding-left: 5px;">
                  <!-- <input type="checkbox" [checked]="PIConfirmCheckbox"> -->
                  <div>
                    <span style="margin-right: 5px;">Does this file contain PII Data?</span>
                    <span>
                      <app-info-tooltip [labelTitle]="''" [description]="'pidatahelpDataSet'" [isImage1]="true"></app-info-tooltip>
                    </span>
                  </div>
                  <input type="radio" name="PIConfirmRadio" (change)="onPIConfirmation(true)"><span class="ml-2">Yes</span>
                  <input type="radio" name="PIConfirmRadio" class="ml-2" (change)="onPIConfirmation(false)"><span
                    class="ml-2">No</span>
                </div>
                    <div class="d-flex justify-content-end myw-actions mt-4">
                      <button class="btn btn-primary" data-dismiss="modal" (click)="onSubmit()">Save</button>
                  </div>
                
            </div>
        </div>
    </div>

